apiVersion: "nuclio.io/v1"
kind: NuclioFunction
metadata:
  name: my-function
  namespace: nuclio
spec:
  runtime: python
  handler: test_handler:handler_serve
  triggers:
    extproc:
      kind: extproc
      attributes:
        type: wrapprocessor 
        port: 5051
        gracefulShutdownTimeout: 5
        maxConcurrentStreams: 100
        processingOptions:
          logStream: false
          logPhases: false
          updateExtprocHeader: false
          updateDurationHeader: false
          requestIdHeaderName: x-request-id
          bufferStreamedBodies: true
          perRequestBodyBufferBytes: 102400
          decompressBodies: true
      maxWorkers: 4  
