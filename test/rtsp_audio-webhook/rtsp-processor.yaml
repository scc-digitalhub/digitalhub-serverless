apiVersion: "nuclio.io/v1"
kind: NuclioFunction
metadata:
  name: local-test
  namespace: nuclio
spec:
  runtime: python:3.10
  handler: test_handler:handler
  triggers:
    myRtspTrigger:
      kind: rtsp
      attributes:
        rtsp_url: rtsp://localhost:8554/mystream
        is_video: false
        sink:
          kind: webhook
          attributes:
            url: "http://localhost:8888/webhook"
            method: "POST"
            headers:
              Content-Type: "application/json"
              X-API-Key: "test-api-key-12345"
            timeout: 10
            maxRetries: 3
            retryDelay: 1
      maxWorkers: 1